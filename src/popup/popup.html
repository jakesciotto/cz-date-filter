<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=300, initial-scale=1.0">
    <link rel="stylesheet" href="popup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <title>CloudZero Date Filter</title>
</head>
<body>
    <header class="header">
        <div class="logo">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
            <h1>CloudZero Date Filter</h1>
        </div>
    </header>

    <main class="main-content">
        <section class="date-selection">
            <div class="form-field">
                <label for="dateFilter" class="form-label">Date Range</label>
                <div class="select-wrapper">
                    <select id="dateFilter" class="form-select">
                        <option value="Last 7 Days">Last 7 Days</option>
                        <option value="Last 14 Days">Last 14 Days</option>
                        <option value="Last 28 Days">Last 28 Days</option>
                        <option value="Last 30 Days">Last 30 Days</option>
                        <option value="Last 90 Days">Last 90 Days</option>
                        <option value="Custom">Custom Range</option>
                    </select>
                </div>
            </div>

            <div class="custom-fields" id="customFields">
                <div class="form-field">
                    <label for="customDate" class="form-label">Date Range</label>
                    <input id="customDate" type="text" class="form-input" placeholder="e.g. last 45 days, 01/15/2025 to 02/28/2025" />
                </div>
                
                <div class="form-field">
                    <label for="customName" class="form-label">Filter Name</label>
                    <input id="customName" type="text" class="form-input" placeholder="Enter a name for your filter" />
                </div>
            </div>
        </section>

        <section class="advanced-options-section">
            <div class="advanced-toggle">
                <label class="toggle-label">
                    <input type="checkbox" id="advancedToggle" class="toggle-checkbox">
                    <span class="toggle-switch"></span>
                    <span class="toggle-text">Advanced CloudZero Options</span>
                </label>
            </div>

            <div class="advanced-fields" id="advancedFields">
                <div class="form-field">
                    <label for="costType" class="form-label">Cost Type</label>
                    <div class="select-wrapper">
                        <select id="costType" class="form-select">
                            <option value="billed_cost">Billed Cost</option>
                            <option value="discounted_cost">Discounted Cost</option>
                            <option value="discounted_amortized_cost">Discounted Amortized Cost</option>
                            <option value="amortized_cost">Amortized Cost</option>
                            <option value="invoiced_amortized_cost">Invoiced Amortized Cost</option>
                            <option value="real_cost" selected>Real Cost</option>
                            <option value="on_demand_cost">On-Demand Cost</option>
                        </select>
                    </div>
                </div>

                <div class="form-field">
                    <label for="granularity" class="form-label">Granularity</label>
                    <div class="select-wrapper">
                        <select id="granularity" class="form-select">
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                </div>

                <div class="form-field">
                    <label for="groupBy" class="form-label">Group By</label>
                    <div class="select-wrapper">
                        <select id="groupBy" class="form-select">
                            <option value="">None</option>
                            <option value="account">Account</option>
                            <option value="billing_line_item">Billing Line Item</option>
                            <option value="cloud_provider">Cloud Provider</option>
                            <option value="genai_model">GenAI Model</option>
                            <option value="genai_model_family">GenAI Model Family</option>
                            <option value="genai_platform">GenAI Platform</option>
                            <option value="genai_token_type">GenAI Token Type</option>
                            <option value="instance_type">Instance Type</option>
                            <option value="networking_category">Networking Category</option>
                            <option value="networking_sub_category">Networking Sub-Category</option>
                            <option value="payment_option">Payment Option</option>
                            <option value="region">Region</option>
                            <option value="resource_summary">Resource Summary</option>
                            <option value="resource_type">Resource Type</option>
                            <option value="service">Service</option>
                            <option value="service_category">Service Category</option>
                            <option value="service_detail">Service Detail</option>
                            <option value="taggable_vs_untaggable">Taggable vs. Untaggable</option>
                            <option value="usage_family">Usage Family</option>
                        </select>
                    </div>
                </div>

                <div class="form-field" id="filtersField" style="display: none;">
                    <label for="filters" class="form-label">Additional Filters</label>
                    <input id="filters" type="text" class="form-input" placeholder="services:AmazonCloudWatch,region:us-east-1,us-east-2" />
                    <span class="field-hint">Format: filterType:value,filterType:value1,value2</span>
                </div>
            </div>
        </section>

        <section class="actions">
            <button id="saveFilter" class="btn btn-secondary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    <path d="M17 21V13H7V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    <path d="M7 3V8H15" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                </svg>
                Save Filter
            </button>
            <button id="applyFilter" class="btn btn-primary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 12L10 17L20 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Apply Filter
            </button>
        </section>

        <section class="saved-filters-section">
            <h2 class="section-title">Saved Filters</h2>
            <div class="saved-filters-container">
                <ul id="savedFilters" class="saved-filters-list"></ul>
                <div id="emptyState" class="empty-state">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 9H9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>No saved filters yet</p>
                    <span>Create custom filters to save them here</span>
                </div>
            </div>
        </section>
    </main>

    <script type="module" src="popup.js"></script>
</body>
</html>